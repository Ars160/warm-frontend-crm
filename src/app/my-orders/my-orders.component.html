<div class="orders-container">
    <div class="orders-header">
      <h1>üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã</h1>
      
      <div class="controls">
        <div class="search-box">
          <input type="text" [(ngModel)]="searchQuery" placeholder="–ü–æ–∏—Å–∫ –ø–æ ID –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–æ–≤–∞—Ä–∞...">
        </div>
        
        <div class="filter-box">
          <select [(ngModel)]="selectedStatus">
            <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
            <option value="pending">–í –æ–∂–∏–¥–∞–Ω–∏–∏</option>
            <option value="in_progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
            <option value="ready">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</option>
          </select>
        </div>
        
        <button class="refresh-btn" (click)="loadOrders()" [disabled]="isLoading">
          {{ isLoading ? '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...' : '–û–±–Ω–æ–≤–∏—Ç—å' }}
        </button>
      </div>
    </div>
  
    <div *ngIf="errorMessage" class="error-message">
      ‚ùå {{ errorMessage }}
    </div>
  
    <div *ngIf="isLoading && orders.length === 0" class="loading">
      ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞—à–∏—Ö –∑–∞–∫–∞–∑–æ–≤...
    </div>
  
    <div *ngIf="!isLoading && filteredOrders.length === 0" class="empty-state">
      üì≠ –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤
    </div>
  
    <div class="orders-list">
      <div *ngFor="let order of filteredOrders" class="order-card" [class]="getStatusClass(order.status)">
        <div class="order-header">
          <span class="order-id">–ó–∞–∫–∞–∑ #{{ order._id | slice:0:8 }}</span>
          <span class="order-status">
            {{ order.status | titlecase }}
          </span>
        </div>
        
        <div class="order-details">
          <div class="detail-row">
            <span class="detail-label">üìÖ –î–∞—Ç–∞:</span>
            <span class="detail-value">{{ order.createdAt | date:'dd.MM.yyyy HH:mm' }}</span>
          </div>
          
          <div *ngIf="order.deliveryAddress" class="detail-row">
            <span class="detail-label">üè† –ê–¥—Ä–µ—Å:</span>
            <span class="detail-value">{{ order.deliveryAddress }}</span>
          </div>
        </div>
        
        <div class="order-items">
          <h3>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</h3>
          <ul>
            <li *ngFor="let item of order.items" class="order-item">
              <div class="item-image" *ngIf="item.product.imageUrl">
                <img [src]="item.product.imageUrl" [alt]="item.product.name">
              </div>
              <div class="item-info">
                <span class="item-name">{{ item.product.name }}</span>
                <span class="item-quantity">{{ item.quantity }} √ó {{ item.product.price | currency:'KZT':'symbol-narrow':'1.2-2' }}</span>
              </div>
            </li>
          </ul>
        </div>
        
        <div class="order-footer">
          <div class="order-total">
            –ò—Ç–æ–≥–æ: {{ calculateTotal(order) | currency:'KZT':'symbol-narrow':'1.2-2' }}
          </div>
        </div>
      </div>
    </div>
  </div>