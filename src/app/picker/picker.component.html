<div class="picker-container">
    <div class="header">
      <h1>üì¶ –ü–∞–Ω–µ–ª—å —Å–±–æ—Ä—â–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤</h1>
      
      <div class="controls">
        <div class="search-box">
          <input type="text" [(ngModel)]="searchQuery" placeholder="–ü–æ–∏—Å–∫ –ø–æ ID –∑–∞–∫–∞–∑–∞ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...">
        </div>
        
        <div class="filter-box">
          <select [(ngModel)]="selectedStatus">
            <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
            <option value="pending">–ù–æ–≤—ã–µ</option>
            <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
            <option value="ready">–ì–æ—Ç–æ–≤—ã–µ</option>
          </select>
        </div>
        
        <button class="refresh-btn" (click)="loadOrders()" [disabled]="isLoading">
          {{ isLoading ? 'üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...' : 'üîÑ –û–±–Ω–æ–≤–∏—Ç—å' }}
        </button>
      </div>
    </div>
  
    <div *ngIf="errorMessage" class="error-message">
      ‚ùå {{ errorMessage }}
    </div>
    
    <div *ngIf="successMessage" class="success-message">
      ‚úÖ {{ successMessage }}
    </div>
  
    <div *ngIf="isLoading && filteredOrders.length === 0" class="loading">
      ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤...
    </div>
  
    <div *ngIf="!isLoading && filteredOrders.length === 0" class="empty-state">
      üì≠ –ù–µ—Ç –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    </div>
  
    <div class="orders-grid">
      <div *ngFor="let order of filteredOrders" class="order-card" [class]="getStatusClass(order.status)">
        <div class="order-header">
          <span class="order-id">#{{ order._id | slice:0:8 }}</span>
          <span class="order-status">
            <span *ngIf="order.status === 'pending'">üÜï –ù–æ–≤—ã–π</span>
            <span *ngIf="order.status === 'in_progress'">üõ†Ô∏è –í —Ä–∞–±–æ—Ç–µ</span>
            <span *ngIf="order.status === 'ready'">‚úÖ –ì–æ—Ç–æ–≤</span>
          </span>
        </div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</span>
            <span class="info-value">{{ order.user | slice:0:8 }}</span>
          </div>
          <div class="info-row">
            <span class="info-label">üë∑ –ù–∞–∑–Ω–∞—á–µ–Ω:</span>
            <span class="info-value">{{ order.assignedTo | slice:0:8 }}</span>
          </div>
          <div class="info-row">
            <span class="info-label">üìÖ –°–æ–∑–¥–∞–Ω:</span>
            <span class="info-value">{{ order.createdAt | date:'dd.MM.yyyy HH:mm' }}</span>
          </div>
        </div>
        
        <div class="order-items">
          <h3>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞ ({{ order.items.length }}):</h3>
          <ul>
            <li *ngFor="let item of order.items">
              –ü—Ä–æ–¥—É–∫—Ç ID: {{ item.product | slice:0:8 }} √ó {{ item.quantity }} —à—Ç.
            </li>
          </ul>
        </div>
        
        <div class="order-actions">
          <button *ngIf="order.status === 'pending'" 
                  (click)="acceptOrder(order._id)" 
                  class="accept-btn">
            –ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑
          </button>
          
          <button *ngIf="order.status === 'in_progress'" 
                  (click)="completeOrder(order._id)" 
                  class="complete-btn">
            –ó–∞–≤–µ—Ä—à–∏—Ç—å
          </button>
        </div>
      </div>
    </div>
  </div>